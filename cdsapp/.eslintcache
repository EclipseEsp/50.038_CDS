[{"/mnt/c/Users/tscd1/OneDrive/Desktop/50.038_CDS/cdsapp/src/App.js":"1","/mnt/c/Users/tscd1/OneDrive/Desktop/50.038_CDS/cdsapp/src/reportWebVitals.js":"2","/mnt/c/Users/tscd1/OneDrive/Desktop/50.038_CDS/cdsapp/src/index.js":"3"},{"size":2116,"mtime":1607247941792,"results":"4","hashOfConfig":"5"},{"size":362,"mtime":1607191240470,"results":"6","hashOfConfig":"5"},{"size":500,"mtime":1607191240458,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"10","usedDeprecatedRules":"11"},"3zxxau",{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"11"},"/mnt/c/Users/tscd1/OneDrive/Desktop/50.038_CDS/cdsapp/src/App.js",["17","18","19"],"import React, { useState, useEffect } from 'react';\nimport logo from './logo.svg';\nimport recycling from './recycling.svg'\nimport './App.css';\nimport Camera from 'react-html5-camera-photo';\nimport 'react-html5-camera-photo/build/css/index.css';\n\nfunction App() {\n  const [prediction, setPrediction] = useState(0)\n  const [image, setImage] = useState(null)\n\n  // useEffect(() => {\n  //   console.log(\"image:\",image)\n  //   fetchPrediction(image)\n  //   // fetch('/classify_waste').then(res => res.json()).then(data => {\n  //   //   setPrediction(data.pred);\n  //   // });\n  // }, [image]);\n\n  const fetchPrediction = (dataUri) => {\n    fetch('/classify_waste',{\n      method: 'POST',\n      body: dataUri,\n    }).then(res => res.json()).then(data => {\n      setPrediction(data.pred);\n    });\n  }\n  \n\n  const onSelect = (event) => {\n    if (event.target.files && event.target.files[0]) {\n      let img = event.target.files[0];\n      console.log(img)\n      // FileReader to convert event.target.file to dataUri\n      var reader = new FileReader()\n      reader.readAsDataURL(img)\n      reader.onload = function () {\n        console.log(reader.result)//base64encoded string\n        fetchPrediction(reader.result)\n      };\n      \n      setImage(URL.createObjectURL(img))\n    }\n  }\n  \n  function handleTakePhoto (dataUri) {\n    // Do stuff with the photo...\n    console.log(dataUri)\n    document.getElementById(\"input\").value=\"\"\n    setImage(dataUri)\n    fetchPrediction(dataUri)\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={recycling} className=\"App-logo\" alt=\"logo\" />\n        <h1> Garbage Classification</h1>\n      </header>\n      <body>\n          <h1>Select Image or Take Picture</h1>\n          <Camera onTakePhoto = { (dataUri) => { handleTakePhoto(dataUri); } }/>\n          <hr></hr>\n          <img src={image} style={{height:'224px',width:'224px',marginRight: '10px'}}></img>\n          <input id=\"input\" type=\"file\" name=\"myImage\" onChange={onSelect} />\n          <p>The current prediction is {prediction}.</p>\n      </body>\n    </div>\n  );\n}\n\nexport default App;\n",["20","21"],"/mnt/c/Users/tscd1/OneDrive/Desktop/50.038_CDS/cdsapp/src/reportWebVitals.js",[],["22","23"],"/mnt/c/Users/tscd1/OneDrive/Desktop/50.038_CDS/cdsapp/src/index.js",[],{"ruleId":"24","severity":1,"message":"25","line":1,"column":27,"nodeType":"26","messageId":"27","endLine":1,"endColumn":36},{"ruleId":"24","severity":1,"message":"28","line":2,"column":8,"nodeType":"26","messageId":"27","endLine":2,"endColumn":12},{"ruleId":"29","severity":1,"message":"30","line":64,"column":11,"nodeType":"31","endLine":64,"endColumn":87},{"ruleId":"32","replacedBy":"33"},{"ruleId":"34","replacedBy":"35"},{"ruleId":"32","replacedBy":"36"},{"ruleId":"34","replacedBy":"37"},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'logo' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-native-reassign",["38"],"no-negated-in-lhs",["39"],["38"],["39"],"no-global-assign","no-unsafe-negation"]